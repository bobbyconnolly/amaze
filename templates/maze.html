{% extends "base.html" %}

{% block title %}Maze Generator - Play{% endblock %}

{% block content %}
<div class="maze-container">
    <div class="controls">
        <div class="control-group">
            <label for="mazeWidth">Width:</label>
            <input type="number" id="mazeWidth" value="20" min="10" max="70">

            <label for="mazeHeight">Height:</label>
            <input type="number" id="mazeHeight" value="20" min="10" max="70">

            <button id="generateMaze" class="btn">Generate New Maze</button>
        </div>

        <div class="control-group">
            <button id="toggleTheme" class="btn">Toggle Theme</button>
            <button id="showHint" class="btn">Show Hint</button>
            <span id="timer" class="timer">00:00</span>
        </div>
    </div>

    <div class="game-area">
        <canvas id="mazeCanvas"></canvas>
        <div class="status-overlay">
            <p id="statusMessage" class="status-message"></p>
        </div>
    </div>

<!--    <div class="instructions">-->
<!--        <h3>How to Play</h3>-->
<!--        <p>Use arrow keys or WASD to move through the maze.</p>-->
<!--        <ul>-->
<!--            <li>↑/W: Move up</li>-->
<!--            <li>↓/S: Move down</li>-->
<!--            <li>←/A: Move left</li>-->
<!--            <li>→/D: Move right</li>-->
<!--        </ul>-->
<!--        <p>Find your way from the start (top-left) to the finish (bottom-right)!</p>-->
<!--    </div>-->
</div>
{% endblock %}

{% block extra_css %}
<style>
    .maze-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .controls {
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 10px;
    }

    .control-group {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .game-area {
        position: relative;
        margin: 20px 0;
        display: flex;
        justify-content: center;
    }

    #mazeCanvas {
        border: 2px solid #333;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .status-overlay {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        pointer-events: none;
    }

    .timer {
        font-family: monospace;
        font-size: 1.2em;
        padding: 5px 10px;
        background: #333;
        color: #fff;
        border-radius: 4px;
    }

    .instructions {
        margin-top: 20px;
        padding: 20px;
        background: #f5f5f5;
        border-radius: 8px;
    }
</style>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/maze_display.js') }}"></script>
<script src="{{ url_for('static', filename='js/player.js') }}"></script>
<script src="{{ url_for('static', filename='js/effects.js') }}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize maze game
        initMazeGame();
    });
</script>
{% endblock %}